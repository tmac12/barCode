<div class="barcode-scanner-container">
  <h1>{{ title() }}</h1>

  @if (debugInfo()) {
    <details class="debug-section">
      <summary>Debug Information</summary>
      <pre>{{ debugInfo() }}</pre>
    </details>
  }

  <div class="scanner-section">
    @if (!isScanning()) {
      <button class="scan-button" (click)="startBarcodeScanning()" type="button">
        üì∑ Start Barcode Scanning
      </button>
    } @else {
      <div class="video-container">
        <video #video autoplay playsinline></video>
        <canvas #canvas style="display: none"></canvas>
        <button class="stop-button" (click)="stopScanning()" type="button">‚èπÔ∏è Stop Scanning</button>
      </div>
    }
  </div>

  @if (detectedBarcode()) {
    <div class="result-section success">
      <h3>Barcode Detected!</h3>
      <p class="barcode-value">{{ detectedBarcode() }}</p>
      <button class="clear-button" (click)="clearResults()" type="button">Clear Results</button>
    </div>
  }

  @if (error()) {
    <div class="result-section error">
      <h3>Error</h3>
      <p>{{ error() }}</p>
      <button class="clear-button" (click)="clearResults()" type="button">Clear Error</button>
    </div>
  }
</div>
